{"version":3,"file":"prebuild.js","sourceRoot":"","sources":["../../tasks/prebuild.ts"],"names":[],"mappings":";;;;;;;;;;;IACA,sDAAiD;IACjD,qEAAgE;IAChE,kCAAoC;IAKpC,OAAS,UAAU,KAAa;QAC/B;;;;;gCACgB,WAAM,0BAAgB,EAAE,EAAA;;4BAAjC,MAAM,GAAG,SAAwB;4BAEvC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gCACZ,YAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;4BACrC,CAAC;;;;;SACD;QAED,KAAK,CAAC,YAAY,CAAC,UAAU,EAAE,6BAA6B,EAAE,uBAAa,CAAC,YAAY,CAAC,CAAC,CAAC;IAC5F,CAAC,CAAC","sourcesContent":["import IMultiTask = grunt.task.IMultiTask;\nimport wrapAsyncTask from './util/wrapAsyncTask';\nimport decryptDeployKey from '../src/commands/decryptDeployKey';\nimport { logger } from '../src/log';\n\n/**\n * Prepares a continuous integration environment for a build\n */\nexport = function (grunt: IGrunt) {\n\tasync function prebuildTask(this: IMultiTask<any>) {\n\t\tconst result = await decryptDeployKey();\n\n\t\tif (result) {\n\t\t\tlogger.info('Decrypted deploy key');\n\t\t}\n\t}\n\n\tgrunt.registerTask('prebuild', 'prepares the ci environment', wrapAsyncTask(prebuildTask));\n};\n"]}